# Migration `20200714221555-updated-at-step-one`

This migration has been generated by Matej Hrescak at 7/14/2020, 10:15:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Category" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Ingredient" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Kitchen" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Recipe" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."RecipeIngredient" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."User" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200709170739-public-id_notnull..20200714221555-updated-at-step-one
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 enum Unit {
   TSP
@@ -30,8 +30,10 @@
 }
 model User {
   id             Int       @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   email          String    @unique
   name           String
   googleId       Int?      @unique
   avatarUrl      String?
@@ -44,8 +46,10 @@
 }
 model Kitchen {
   id          Int        @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   name        String
   description String?
   owner       User       @relation("KitchenOwnership", references: [id], fields: [ownerId])
   ownerId     Int
@@ -55,8 +59,10 @@
 }
 model Recipe {
   id                 Int      @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   name               String?
   summary            String?
   publicID           String    @unique
   isPublic           Boolean   @default(value:false)
@@ -81,15 +87,19 @@
 }
 model Ingredient {
   id       Int                @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   name     String
   category String
   uses     RecipeIngredient[]
 }
 model RecipeIngredient {
   id           Int        @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   freeform     String
   ingredient   Ingredient? @relation(references: [id], fields: [ingredientId])
   ingredientId Int?
   recipe       Recipe     @relation(references: [id], fields: [recipeId])
@@ -101,8 +111,10 @@
 }
 model Category {
   id          Int          @default(autoincrement()) @id
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt @default(now())
   name        String
   description String
   kitchen     Kitchen      @relation(references: [id], fields: [kitchenId])
   kitchenId   Int
```
